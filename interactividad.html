<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactividad - GuÃ­a Wollok Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>ğŸ® GuÃ­a Wollok Game</h1>
        <p>DocumentaciÃ³n completa para crear juegos con Wollok</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">ğŸ  Inicio</a></li>
            <li><a href="introduccion.html">ğŸ“š IntroducciÃ³n</a></li>
            <li><a href="tablero.html">ğŸ¯ Tablero y Posiciones</a></li>
            <li><a href="objetos.html">ğŸ¨ Objetos Visuales</a></li>
            <li><a href="movimiento.html">ğŸƒ Movimiento y Personajes</a></li>
            <li><a href="interactividad.html" class="active">âš¡ Interactividad</a></li>
            <li><a href="fondos-textos.html">ğŸ–¼ï¸ Fondos y Textos</a></li>
            <li><a href="sonidos.html">ğŸ”Š Sonidos</a></li>
            <li><a href="testing.html">ğŸ§ª Testing</a></li>
        </ul>
    </nav>

    <main>
        <section class="hero">
            <h2>âš¡ Interactividad</h2>
            <p>Agrega colisiones, eventos de teclado y interacciÃ³n del usuario</p>
        </section>

        <section>
            <h3>ğŸ’¥ Colisiones</h3>
            <p>Las colisiones permiten detectar cuando dos objetos se encuentran en la misma posiciÃ³n:</p>

            <div class="code-block">
                <pre><code>import wollok.game.*

program juegoConColisiones {
    const heroe = new Heroe()
    const moneda = new Moneda()
    const enemigo = new Enemigo()
    
    game.addVisualCharacter(heroe)
    game.addVisual(moneda)
    game.addVisual(enemigo)
    
    // ColisiÃ³n con moneda
    game.whenCollideDo(heroe, { elemento =>
        if (elemento == moneda) {
            game.say("Â¡Recolectaste una moneda!")
            // AquÃ­ podrÃ­as eliminar la moneda o dar puntos
        }
    })
    
    // ColisiÃ³n con enemigo
    game.whenCollideDo(heroe, { elemento =>
        if (elemento == enemigo) {
            game.say("Â¡Te atacÃ³ un enemigo!")
            // AquÃ­ podrÃ­as quitar vidas o reiniciar
        }
    })
    
    game.start()
}</code></pre>
            </div>

            <div class="example">
                <h4>ğŸ¯ Tipos de Colisiones</h4>
                <ul>
                    <li><strong>RecolecciÃ³n</strong>: Recoger items, monedas, power-ups</li>
                    <li><strong>Combate</strong>: Enfrentar enemigos</li>
                    <li><strong>ObstÃ¡culos</strong>: Paredes, trampas</li>
                    <li><strong>Triggers</strong>: Activar eventos especiales</li>
                </ul>
            </div>
        </section>

        <section>
            <h3>âŒ¨ï¸ Eventos de Teclado</h3>
            <p>Puedes responder a diferentes teclas del teclado:</p>

            <div class="code-block">
                <pre><code>import wollok.game.*

program controlesAvanzados {
    const heroe = new Heroe()
    game.addVisualCharacter(heroe)
    
    // Flechas direccionales
    keyboard.right().onPressDo({ heroe.moverDerecha() })
    keyboard.left().onPressDo({ heroe.moverIzquierda() })
    keyboard.up().onPressDo({ heroe.moverArriba() })
    keyboard.down().onPressDo({ heroe.moverAbajo() })
    
    // Teclas de acciÃ³n
    keyboard.space().onPressDo({ heroe.saltar() })
    keyboard.enter().onPressDo({ heroe.interactuar() })
    
    // Teclas de letras
    keyboard.a().onPressDo({ heroe.atacar() })
    keyboard.s().onPressDo({ heroe.usarHabilidad() })
    keyboard.h().onPressDo({ heroe.mostrarAyuda() })
    
    game.start()
}</code></pre>
            </div>

            <div class="example">
                <h4>ğŸ® Teclas Disponibles</h4>
                <ul>
                    <li><strong>Flechas</strong>: <code>right()</code>, <code>left()</code>, <code>up()</code>, <code>down()</code></li>
                    <li><strong>Especiales</strong>: <code>space()</code>, <code>enter()</code>, <code>escape()</code></li>
                    <li><strong>Letras</strong>: <code>a()</code>, <code>b()</code>, <code>c()</code>, etc.</li>
                    <li><strong>NÃºmeros</strong>: <code>one()</code>, <code>two()</code>, <code>three()</code>, etc.</li>
                </ul>
            </div>
        </section>

        <section>
            <h3>â° Eventos AutomÃ¡ticos</h3>
            <p>Puedes programar eventos que ocurran automÃ¡ticamente:</p>

            <div class="code-block">
                <pre><code>import wollok.game.*

program eventosAutomaticos {
    const heroe = new Heroe()
    game.addVisualCharacter(heroe)
    
    // Evento que ocurre cada 2 segundos
    game.schedule(2000, { 
        game.say("Â¡Tiempo transcurrido!")
    })
    
    // Evento que ocurre solo una vez despuÃ©s de 5 segundos
    game.scheduleOnce(5000, {
        game.say("Â¡5 segundos han pasado!")
    })
    
    // Evento recurrente cada 1 segundo
    game.schedule(1000, {
        console.println("Tick: " + game.time())
    })
    
    game.start()
}</code></pre>
            </div>

            <div class="example">
                <h4>â±ï¸ Tipos de Eventos AutomÃ¡ticos</h4>
                <ul>
                    <li><strong>schedule()</strong>: Evento que se repite cada X milisegundos</li>
                    <li><strong>scheduleOnce()</strong>: Evento que ocurre solo una vez</li>
                    <li><strong>game.time()</strong>: Obtiene el tiempo transcurrido del juego</li>
                </ul>
            </div>
        </section>

        <section>
            <h3>ğŸ¯ Mostrar Atributos de Objetos</h3>
            <p>Puedes mostrar informaciÃ³n de los objetos en pantalla:</p>

            <div class="code-block">
                <pre><code>class Heroe {
    var position = game.at(5, 5)
    var vida = 100
    var puntos = 0
    method visual() = "hero.png"
    
    method mostrarEstado() {
        game.say("Vida: " + vida + " | Puntos: " + puntos)
    }
    
    method recibirDano(cantidad) {
        vida = vida - cantidad
        if (vida <= 0) {
            game.say("Â¡Game Over!")
        }
    }
    
    method ganarPuntos(cantidad) {
        puntos = puntos + cantidad
        game.say("Â¡+" + cantidad + " puntos!")
    }
}

program juegoConEstado {
    const heroe = new Heroe()
    game.addVisualCharacter(heroe)
    
    // Mostrar estado con tecla 'i'
    keyboard.i().onPressDo({ heroe.mostrarEstado() })
    
    // Ganar puntos con tecla 'p'
    keyboard.p().onPressDo({ heroe.ganarPuntos(10) })
    
    // Recibir daÃ±o con tecla 'd'
    keyboard.d().onPressDo({ heroe.recibirDano(20) })
    
    game.start()
}</code></pre>
            </div>
        </section>

        <section>
            <h3>ğŸ® Juego Interactivo Completo</h3>
            <p>Un ejemplo completo que combina todos los elementos de interactividad:</p>

            <div class="code-block">
                <pre><code>import wollok.game.*

class Heroe {
    var position = game.at(2, 5)
    var vida = 100
    var puntos = 0
    method visual() = "hero.png"
    
    method moverDerecha() {
        if (position.x() < game.width() - 1) {
            position = game.at(position.x() + 1, position.y())
        }
    }
    
    method moverIzquierda() {
        if (position.x() > 0) {
            position = game.at(position.x() - 1, position.y())
        }
    }
    
    method atacar() {
        game.say("Â¡Ataque!")
    }
    
    method mostrarEstado() {
        game.say("Vida: " + vida + " | Puntos: " + puntos)
    }
}

class Moneda {
    var position = game.at(8, 3)
    method visual() = "coin.png"
}

class Enemigo {
    var position = game.at(6, 2)
    method visual() = "enemy.png"
}

program juegoInteractivo {
    game.width(10)
    game.height(7)
    game.title("Juego Interactivo")
    
    const heroe = new Heroe()
    const moneda = new Moneda()
    const enemigo = new Enemigo()
    
    game.addVisualCharacter(heroe)
    game.addVisual(moneda)
    game.addVisual(enemigo)
    
    // Controles de movimiento
    keyboard.right().onPressDo({ heroe.moverDerecha() })
    keyboard.left().onPressDo({ heroe.moverIzquierda() })
    
    // Controles de acciÃ³n
    keyboard.a().onPressDo({ heroe.atacar() })
    keyboard.i().onPressDo({ heroe.mostrarEstado() })
    
    // Colisiones
    game.whenCollideDo(heroe, { elemento =>
        if (elemento == moneda) {
            heroe.ganarPuntos(10)
            game.say("Â¡Moneda recolectada!")
        } else if (elemento == enemigo) {
            heroe.recibirDano(25)
            game.say("Â¡Te atacÃ³ un enemigo!")
        }
    })
    
    // Evento automÃ¡tico cada 3 segundos
    game.schedule(3000, {
        game.say("Â¡Tiempo transcurrido!")
    })
    
    game.start()
}</code></pre>
            </div>
        </section>

        <section>
            <h3>ğŸ”§ Eventos Avanzados</h3>
            <p>Puedes crear eventos mÃ¡s complejos combinando diferentes elementos:</p>

            <div class="code-block">
                <pre><code>// Sistema de power-ups
class PowerUp {
    var position = game.at(5, 5)
    var tipo = "velocidad"
    method visual() = "powerup.png"
    
    method activar(heroe) {
        if (tipo == "velocidad") {
            game.say("Â¡Velocidad aumentada!")
            // LÃ³gica para aumentar velocidad
        } else if (tipo == "vida") {
            game.say("Â¡Vida restaurada!")
            // LÃ³gica para restaurar vida
        }
    }
}

// Sistema de niveles
var nivelActual = 1
var enemigosDerrotados = 0

method pasarNivel() {
    nivelActual = nivelActual + 1
    game.say("Â¡Nivel " + nivelActual + "!")
    // LÃ³gica para cambiar el nivel
}

// Verificar condiciÃ³n de victoria
game.schedule(1000, {
    if (enemigosDerrotados >= 5) {
        pasarNivel()
        enemigosDerrotados = 0
    }
})</code></pre>
            </div>
        </section>

        <section>
            <h3>ğŸ’¡ Consejos Importantes</h3>
            <ul>
                <li><strong>Planifica las colisiones</strong> antes de implementarlas</li>
                <li><strong>Usa nombres descriptivos</strong> para los eventos</li>
                <li><strong>Evita eventos muy frecuentes</strong> que puedan ralentizar el juego</li>
                <li><strong>Prueba todos los controles</strong> antes de considerar el juego terminado</li>
                <li><strong>Considera la experiencia del usuario</strong> al diseÃ±ar la interactividad</li>
            </ul>
        </section>

        <section>
            <h3>ğŸ”— PrÃ³ximos Pasos</h3>
            <p>Ahora que dominas la interactividad, puedes continuar con:</p>
            <ul>
                <li><a href="fondos-textos.html">ğŸ–¼ï¸ Fondos y Textos</a> - Personaliza la interfaz</li>
                <li><a href="sonidos.html">ğŸ”Š Sonidos</a> - Agrega audio a tu juego</li>
                <li><a href="testing.html">ğŸ§ª Testing</a> - Prueba tu juego</li>
            </ul>
        </section>

        <section class="resources">
            <h3>ğŸ“š Referencias</h3>
            <ul>
                <li><a href="https://www.wollok.org/documentation/wollok_game/" target="_blank">DocumentaciÃ³n Oficial de Wollok Game</a></li>
                <li><a href="https://www.wollok.org/" target="_blank">Sitio Web de Wollok</a></li>
            </ul>
        </section>
    </main>

    <footer>
        <p>GuÃ­a creada para estudiantes universitarios â€¢ Basada en la documentaciÃ³n oficial de Wollok</p>
    </footer>
</body>
</html>
